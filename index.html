<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <!-- 모바일 기기에서 올바른 화면 비율을 위한 뷰포트 설정 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>학습 분석 리포트 - 김영광 학생</title>

    <!-- Tailwind CSS CDN 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- D3.js 및 D3 Word Cloud 라이브러리 로드 -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jasondavies/d3-cloud@v1.2.7/build/d3.layout.cloud.js"></script>
    <!-- Chart.js CDN 로드 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Fonts (Inter, Noto Sans KR) 로드 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* 기본 바디 스타일 및 폰트 설정 */
        body {
            font-family: 'Noto Sans KR', 'Inter', sans-serif;
            background-color: #f9fafb; /* 부드러운 회색 배경 */
            color: #1f2937; /* 가독성 높은 텍스트 색상 */
            -webkit-font-smoothing: antialiased; /* 폰트 렌더링 최적화 */
            -moz-osx-font-smoothing: grayscale;
        }
        /* 섹션 카드 공통 스타일 */
        .section-card {
            background-color: white;
            border-radius: 0.75rem; /* 12px */
            padding: 1.5rem; /* 24px */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
            margin-bottom: 1.5rem; /* 24px */
        }

        /* 인쇄 시 스타일 조정 */
        @media print {
            body {
                background-color: #ffffff;
                color: #000000;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .section-card {
                box-shadow: none;
                border: 1px solid #e5e7eb;
                margin-bottom: 1rem;
                padding: 1rem;
            }
            /* 차트 컨테이너의 높이를 고정하여 겹침 방지 */
            .chart-container {
                height: 300px !important; /* 인쇄 시 차트 높이 고정 */
                max-height: 300px !important; /* 최대 높이도 고정 */
                width: 100% !important; /* 너비는 100% 유지 */
            }
            /* 차트 아래 텍스트 박스의 마진 조정 */
            .chart-info-box {
                margin-top: 1.5rem !important; /* 차트와 겹치지 않도록 위쪽 마진 추가 */
            }
            footer { display: none; }
        }
        
        /* 워드 클라우드 텍스트 스타일 */
        .word-cloud-text {
            cursor: pointer;
            transition: transform 0.2s ease-out, filter 0.2s ease-out;
        }
        .word-cloud-text:hover {
            transform: scale(1.1);
            filter: brightness(1.2);
        }
    </style>
</head>
<body>

    <main class="max-w-3xl mx-auto p-4 md:p-6">
        <!-- Report Title and Period Section -->
        <div class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800">김영광 학생 월간 리포트</h1>
            <p class="text-md md:text-lg text-gray-500 mt-2">2025년 7월 학습 분석</p>
            <div class="mt-3 text-sm text-gray-400">
                <p>분석 기간: 2025년 7월 1일 ~ 7월 31일</p>
            </div>
        </div>
        
        <!-- Opening Section -->
        <section class="section-card p-4">
            <div class="flex-grow mb-4">
                <p class="text-gray-700 text-m md:text-base leading-relaxed">
                    뜨거운 여름 햇살 아래, 한 학기를 성실히 마무리한 아이의 모습이 더욱 반짝입니다. <strong>7월, 그동안의 여정을 되돌아보며 영광 학생을 향한 격려와 응원을 담아보았습니다.</strong><br>
                </p>
            </div>
        </section>
        <!-- 7월의 성장 -->
        <section class="section-card">
            <h2 class="text-xl font-bold mb-3 text-indigo-600">🚀 7월의 성장</h2>
            <p class="text-gray-600 mb-4">
                지난달보다 <strong class="text-gray-800">학습에 투자한 시간이 꾸준히 늘었습니다. 매일 조금씩 시간을 확보하려는 노력</strong>이 결실을 맺고 있습니다.<br><br>
                또한 관심 분야를 넘어 <strong class="text-gray-800">다양한 과목을 학습하며 시야를 확장했습니다. 스스로 학습 범위를 넓히려는 노력이 멋집니다.</strong><br><br>
                영광 학생에게 많은 칭찬과 응원을 보내주세요. 💪
            </p>
        </section>

        <!-- Detailed Analysis by Subject -->
        <h2 class="text-2xl font-bold mb-4 mt-10 text-center text-gray-800">과목별 학습 상세</h2>

        <!-- Math -->
        <div class="subject-container">
            <div class="section-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3">🧮 수학</h3>
                <div class="space-y-4">
                    <div><p class="text-sm text-gray-600 mt-1">1단원의 <strong class="text-red-500">'유리수와 순환소수'</strong>에서 정수와 유리수를 가지고 선 분의 길이를 구하는 방법을 학습하였고, 수직선 위의 2개의 점이 있어 경우의 수를 학습하였습니다.</p></div>
                    <div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">각각의 크기를 구할 때, 식을 기준으로 예각, 둔각, 평각을 구분하는 것이 시험문제로 자주 출제됩니다.</strong></p></div>
                </div>
            </div>
            <div id="collapsible-math-cards" style="display: none;">
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">1단원의 <strong class="text-red-500">'식의 계산'</strong> 내용을 수강하며 두 삼각형이 세 변 또는 두 변과 그 사이 각이 각각 같으면 합동이라는 원리에 대해 배웠습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">두 삼각형의 합동 조건 중 '변-각-변(SAS)조건'을 정확하게 이해하고 적용하는것은 학생들이 자주 틀리는 부분입니다.</strong></p></div></div></div>
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">2단원의 <strong class="text-red-500">'부등식의 풀이'</strong>에서 부등식의 넓이는 밑의 넓이를 부채꼴의 중심각에 비례하여 계산하는 방식으로 구함을 공부하였습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">부채꼴의 호의 길이를 구할 때 중심원의 비율을 적용하여 길이를 구하는 부분이 자주 출제되는 포인트입니다.</strong></p></div></div></div>
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">3단원의 <strong class="text-red-500">'일차방정식의 활용'</strong>에서 부채꼴의 넓이는 밑의 넓이를 곱하여 길이를 구하고, 부피는 밑면의 넓이에 높이를 곱하여 구하는 방법에 대해 학습하였습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">학생들이 길이를 구할 때 밑면과 윗면의 넓이를 혼동할 수 있어 학생들이 어려워하는 부분입니다.</strong></p></div></div></div>
                 <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">2단원의 <strong class="text-red-500">'연립일차방정식의 풀이'</strong>에서 지수법칙을 이용하여 등식의 성질을 적용하고 곱셈과 나눗셈을 적절히 나누어 푸는 규칙에 대해 배웠습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">지수의 덧셈과 뺄셈을 적용할 때 부호를 잘 못 계산하는 실수를 유의해야 하는 단원입니다.</strong></p></div></div></div>
            </div>
        </div>
        <div class="flex justify-center -mt-4 mb-4"><button id="toggle-math-button" class="text-indigo-600 hover:text-indigo-800 font-semibold text-sm py-2 px-4">더 보기 ▼</button></div>
        
        <!-- English -->
        <div class="subject-container">
            <div class="section-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3">📝 영어</h3>
                <div class="space-y-4">
                    <div><p class="text-sm text-gray-600 mt-1">2단원의 <strong class="text-red-500">'의문사가 있는 의문문'</strong>과 <strong class="text-red-500">'명령문'</strong> 내용을 수강하며 각 항을 분배하여 곱하고 나누는 방식에 대해서 공부하였습니다.</p></div>
                    <div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">항의 개수를 잘못 계산하거나, 분배법칙을 놓칠 수 있어 학생들이 어려워 하는 부분입니다.</strong></p></div>
                </div>
            </div>
            <div id="collapsible-english-cards" style="display: none;">
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">1단원의 <strong class="text-red-500">'to부정사'</strong> 에서 주어의 상태나 존재를 나타내며, 주어에 따라 am, are, is로 변형됨을 배웠습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">Be동사를 사용할 때, 주어와 동사의 일치에서 실수를 많이 하여 유의해야하는 포인트입니다.</strong></p></div></div></div>
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">1단원의 <strong class="text-red-500">'비교급/최상급, there is/are'</strong> 에서 비교급은 두 가지 대상을 비교할 때 사용, 최상급은 세 개 이상의 대상을 비교할 때 사용함을 학습하였습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">There is/are의 차이를 이해하고 복수형과 단수형을 구분하는 포인트가 시험문제에 자주 출제됩니다.</strong></p></div></div></div>
            </div>
        </div>
        <div class="flex justify-center -mt-4 mb-4"><button id="toggle-english-button" class="text-indigo-600 hover:text-indigo-800 font-semibold text-sm py-2 px-4">더 보기 ▼</button></div>

        <!-- Korean -->
        <div class="subject-container">
            <div class="section-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3">📖 국어</h3>
                <div class="space-y-4">
                    <div><p class="text-sm text-gray-600 mt-1">1단원의 <strong class="text-red-500">'언어와 매체'</strong>에서 <strong class="text-red-500">'운수 좋은 날'</strong> 작품을 통해 인간의 고뇌와 현실에 대한 비판적 시각을 접하고, 주인공의 갈등과 내면에 대해 공부하였습니다.</p></div>
                    <div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">주인공의 갈등을 나타내는 문학적 기법과 감정의 변화를 이해하는 빈출 포인트입니다.</strong></p></div>
                </div>
            </div>
            <div id="collapsible-korean-cards" style="display: none;">
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">1단원의 <strong class="text-red-500">'유추'</strong> 스키마 <strong class="text-red-500">'문학'</strong> 작품을 통해 등장인물의 내적 갈등에 대해 배웠습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">소설작품의 내용 뿐만 아니라 서술자와 관점의 특징과 시점의 종류 및 특징 파악하기 함정은 친구들이 가장 어려워하는 핵심 개념입니다.</strong></p></div></div></div>
            </div>
        </div>
        <div class="flex justify-center -mt-4 mb-4"><button id="toggle-korean-button" class="text-indigo-600 hover:text-indigo-800 font-semibold text-sm py-2 px-4">더 보기 ▼</button></div>

        <!-- Social Studies -->
        <div class="subject-container">
            <div class="section-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3">🌍 사회</h3>
                <div class="space-y-4">
                    <div><p class="text-sm text-gray-600 mt-1">7단원의 <strong class="text-red-500">'사회와 자아 정체성'</strong>을 통해 사회화란 개인이 사회의 규범과 가치를 배우고 자아 정체성을 형성해 가는 과정임을 학습했습니다.</p></div>
                    <div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">자아 정체성과 역할 갈등에서 여러 역할 수행 중 충돌하는 기대로 인한 발생하는 갈등을 묻는 문제가 자주 출제됩니다.</strong></p></div>
                </div>
            </div>
        </div>

        <!-- Science -->
        <div class="subject-container">
            <div class="section-card">
                <h3 class="text-xl font-bold text-gray-800 mb-3">🔬 과학</h3>
                <div class="space-y-4">
                    <div><p class="text-sm text-gray-600 mt-1">5단원의 <strong class="text-red-500">'힘의 표현과 평형'</strong>을 통해 힘은 크기와 방향, 작용점으로 나타낼 수 있으며, 물체에 작용하는 여러가지 힘의 합력을 배우는 시간을 가졌습니다.</p></div>
                    <div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">힘의 평형에서 두 힘이 같고 방향이 반대일 때 물체는 정지하거나 등속으로 운동한다는 개념이 출제됩니다.</strong></p></div>
                </div>
            </div>
            <div id="collapsible-science-cards" style="display: none;">
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">5단원의 <strong class="text-red-500">'여러 가지 힘'</strong>을 통해 중력, 탄성력, 마찰력 등의 다양한 힘이 물체에 어떤 영향을 주는지 이해할 수 있었습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">마찰력이 작용하는 방향과 크기를 묻는 문제가 시험에 자주 등장하고, 친구들이 자주 헷갈려 하는 부분입니다.</strong></p></div></div></div>
                <div class="section-card"><div class="space-y-4"><div><p class="text-sm text-gray-600 mt-1">6단원의 <strong class="text-red-500">'기체의 압력'</strong>을 통해 기체는 그릇 벽에 부딪히며, 압력을 발생시키고, 압력은 온도와 부피, 기체의 양에 따라 달라짐을 학습했습니다.</p></div><div><p class="text-sm text-gray-600 mt-1"><strong class="text-blue-600">기체 분자의 운동과 압력의 관계를 설명하거나, 특정 조건에서 작용하는 힘에 대한 고르는 문제가 자주 출제됩니다.</strong></p></div></div></div>
            </div>
        </div>
        <div class="flex justify-center -mt-4 mb-4"><button id="toggle-science-button" class="text-indigo-600 hover:text-indigo-800 font-semibold text-sm py-2 px-4">더 보기 ▼</button></div>
        

        <!-- 3. 학습 습관 분석 -->
        <h2 class="text-2xl font-bold mb-4 mt-10 text-center text-gray-800">학습 습관 분석</h2>

        <!-- 시간대별 학습 집중도 -->
        <div class="section-card">
            <h3 class="text-xl font-bold text-gray-800 mb-3">⏰ 시간대별 수강 시간</h3>
            <div class="w-full h-64 md:h-80 chart-container">
                <canvas id="studyHabitsChart"></canvas>
            </div>
            <div class="mt-4 bg-indigo-50 p-4 rounded-lg chart-info-box">
                <p class="font-bold text-lg text-indigo-800">💡 시간 관리 및 학습 추천 </p>
                <p class="text-sm text-indigo-700 mt-3 mb-4">
                    수강 시간을 분석한 결과, 영광 학생은 주로 <strong class="font-bold">저녁 6시~8시</strong>에 집중해서 엠베스트 학습을 하고 있습니다.
                    엠베스트에는 <strong class="font-bold">오전 시간을 활용하여 수강</strong>하는 친구들도 적지 않습니다. 가능하다면 오전 시간을 활용해보는 것도 추천드립니다.<br><br>
                    
                    그래프에서 볼 수 있듯이, 친구들과 함께 공부하는 <strong>'스윗타임' 출석 학생들은 평균 수강시간이 더 높게 나타납니다.</strong>
                    오전 6시부터 출석 계획을 세울 수 있고, 저녁이면 하루 60분 친구들과 집중시간을 경쟁하는 배틀 모드로 <strong>자기주도학습 습관</strong>을 기를 수 있습니다.
                    <br>더불어 미션을 달성할 때마다 <strong>기프티콘부터 에어팟까지 다양한 보상</strong>도 받을 수 있어요.😎
                    <br><br>집중해서, 친구와 함께, 재밌게 자기주도학습 습관을 길러보는 것은 어떨까요?    
                </p>
                <div class="mt-4 text-center">
                    <a href="https://www.mbest.co.kr/pub_event/event/00000735/" target="_blank" class="inline-block bg-indigo-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-indigo-700 transition-colors">
                        스윗타임 소개 바로가기
                    </a>
                </div>
            </div>
        </div>

        <!-- D-Day Section -->
        <section class="section-card p-4">
            <div class="flex flex-col sm:flex-row items-center text-center sm:text-left">
                <div class="flex-shrink-0 mb-3 sm:mb-0 sm:mr-4">
                    <span class="text-red-600 font-bold text-2xl">D-20</span>
                </div>
                <div class="flex-grow">
                    <p class="text-gray-700 text-sm md:text-base leading-relaxed">
                        <strong>서연중학교의 2학기 개학일</strong>이 얼마 남지 않았습니다. 영광 학생이 <strong>2학기를 힘차게 시작할 수 있도록 응원과 격려를 보내주세요.</strong> 선선한 바람이 불어올 다음 달, 영광 학생의 또 다른 성장 이야기로 찾아뵙겠습니다.<br>
                    </p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer Section -->
    <footer class="text-center py-8 mt-4 text-sm text-gray-500 border-t border-gray-200">
        <div class="mb-6">
            <a href="https://yoongu-kang.github.io/mgreport-sample/" target="_blank" class="inline-block bg-gray-200 text-gray-700 font-semibold py-2 px-5 rounded-lg hover:bg-gray-300 transition-colors">
                다른 샘플 리포트 보러가기
            </a>
        </div>
        <p>&copy; 2025 Mbest. All Rights Reserved.</p>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            
            // --- START: 워드 클라우드 생성 (반응형 및 시각 효과 개선) ---
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }

            function createWordCloud() {
                const container = document.getElementById('word-cloud-container');
                if (!container || container.offsetWidth === 0) return;

                container.innerHTML = ''; 

                const words = [
                    {text: "복습은 나의 것", size: 70},
                    {text: "열공보상 사냥꾼", size: 65},
                    {text: "집중 파워 업", size: 45},
                    {text: "문제풀이 도전왕", size: 30},
                ];

                const width = container.offsetWidth;
                const height = container.offsetHeight;
                
                const colorScale = d3.scaleOrdinal()
                    .range(["#4f46e5", "#3b82f6", "#10b981", "#f59e0b", "#ef4444", "#8b5cf6"]);

                const minFontSize = 12;
                const maxFontSize = Math.max(40, width / 10);
                const fontSizeScale = d3.scalePow().exponent(2)
                    .domain([d3.min(words, d => d.size), d3.max(words, d => d.size)])
                    .range([minFontSize, maxFontSize]);

                const layout = d3.layout.cloud()
                    .size([width, height])
                    .words(words.map(d => ({text: d.text, size: d.size})))
                    .padding(8)
                    .rotate(() => 0) 
                    .font("Noto Sans KR")
                    .fontSize(d => fontSizeScale(d.size))
                    .on("end", draw);

                layout.start();

                function draw(words) {
                    d3.select(container).append("svg")
                        .attr("width", layout.size()[0])
                        .attr("height", layout.size()[1])
                        .append("g")
                        .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")
                        .selectAll("text")
                        .data(words)
                        .enter().append("text")
                        .attr("class", "word-cloud-text")
                        .style("font-size", "1px")
                        .style("font-family", "Noto Sans KR")
                        .style("font-weight", "bold")
                        .style("fill", (d, i) => colorScale(i))
                        .attr("text-anchor", "middle")
                        .attr("transform", d => "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")")
                        .text(d => d.text)
                        .transition()
                        .duration(600)
                        .style("font-size", d => d.size + "px");
                }
            }
            
            // createWordCloud(); // 워드클라우드 컨테이너가 없으므로 주석 처리
            // window.addEventListener('resize', debounce(createWordCloud, 250)); // 워드클라우드 컨테이너가 없으므로 주석 처리
            // --- END: 워드 클라우드 생성 ---

            // --- START: 토글 버튼 기능 추가 ---
            function setupToggle(buttonId, contentId) {
                const toggleButton = document.getElementById(buttonId);
                const collapsibleContent = document.getElementById(contentId);

                if (toggleButton && collapsibleContent) {
                    toggleButton.addEventListener('click', function() {
                        const isHidden = collapsibleContent.style.display === 'none';
                        collapsibleContent.style.display = isHidden ? 'block' : 'none';
                        this.innerHTML = isHidden ? '숨기기 ▲' : '더 보기 ▼';
                    });
                }
            }
            
            setupToggle('toggle-math-button', 'collapsible-math-cards');
            setupToggle('toggle-english-button', 'collapsible-english-cards');
            setupToggle('toggle-korean-button', 'collapsible-korean-cards');
            setupToggle('toggle-science-button', 'collapsible-science-cards');
            // --- END: 토글 버튼 기능 추가 ---
            
            // --- 시간대별 학습 집중도 라인 차트 렌더링 ---
            const renderHabitsChart = () => {
                const ctx = document.getElementById('studyHabitsChart')?.getContext('2d');
                if (!ctx) return;

                const gradient = ctx.createLinearGradient(0, 0, 0, 300);
                gradient.addColorStop(0, 'rgba(79, 70, 229, 0.4)');
                gradient.addColorStop(1, 'rgba(79, 70, 229, 0)');

                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['06시', '08시', '10시', '12시', '14시', '16시', '18시', '20시', '22시', '24시'],
                        datasets: [{
                            label: '나의 학습 집중도',
                            data: [0, 0, 3, 5, 8, 15, 28, 29, 14, 7], 
                            borderColor: '#4f46e5',
                            backgroundColor: gradient,
                            fill: true,
                            tension: 0.4,
                            borderWidth: 3,
                            pointBackgroundColor: '#4f46e5',
                            pointRadius: 4,
                            pointHoverRadius: 6,
                        }, {
                            label: '전체 동학년 평균',
                            data: [3, 5, 2, 3, 13, 25, 28, 25, 9, 3],
                            borderColor: '#a5b4fc',
                            fill: false,
                            tension: 0.4,
                            borderWidth: 2,
                            borderDash: [5, 5],
                            pointRadius: 0,
                        }, {
                            label: '스윗타임 이용자 평균',
                            data: [5, 13, 5, 9, 16, 32, 38, 35, 29, 17], 
                            borderColor: '#facc15',
                            backgroundColor: '#facc15',
                            fill: false,
                            tension: 0.4,
                            borderWidth: 3,
                            pointRadius: 4,
                            pointBackgroundColor: '#facc15',
                            pointHoverRadius: 6,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: { position: 'bottom', labels: { usePointStyle: true } },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                                callbacks: {
                                    label: function(context) { return ` ${context.dataset.label}: ${context.raw}분`; }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    drawBorder: false,
                                    color: '#e5e7eb'
                                },
                                ticks: {
                                    stepSize: 10,
                                    callback: function(value) {
                                        return value + '분';
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            };
            
            renderHabitsChart();
        });
    </script>
</body>
</html>
